
####    MP output templates


--- output
---

comment: |
  [% FOREACH line IN text.split('\n'); "; $line\n"; END -%]


header: |
  [IMG ID]
  ID=[% opts.exists('ID') ? opts.ID : '88888888'; opts.delete('ID') %]
  Name=[% opts.exists('Name') ? opts.Name : 'OSM-based map'; opts.delete('Name') %]
  Copyright=OpenStreetMap project contributors under CC-BY-SA
 
  LblCoding=9
  CodePage=[% opts.exists('CodePage') ? opts.CodePage : 'utf8'; opts.delete('CodePage') %]

  [% # keys with default values
    defs = {
        POINumberFirst='N'
        MG='Y'
        POIIndex='Y'
        Routing='Y'
        Elevation='M'
        Preprocess='F'
        TreSize='3000'
    }; 
    FOREACH key IN defs.keys -%]
  [% key %]=[% opts.exists(key) ? opts.$key : defs.$key; opts.delete(key) %]
  [% END %]

  [% # keys without default values
    FOREACH key IN opts.keys -%]
  [% key %]=[% opts.$key %]
  [% END %]

  Levels=6
  Level0=24
  Level1=22
  Level2=20
  Level3=18
  Level4=16
  Level5=15

  [END-IMG ID]

  [% USE date -%]
  [% INCLUDE comment
    text = "###  Converted from OpenStreetMap data with osm2mp $version at " _ date.format(format='%Y-%m-%d %H:%M:%S')
   %]
  [% "\n" %]


footer: |
  [%- "\n\n" -%]
  [% INCLUDE comment
      text = "###  That's all, folks!"
   %]



point: |
  [% INCLUDE comment  text = comment  IF comment -%]
  [POI]
  Data[% opts.lzoom %]=([% opts.coords.0 %],[% opts.coords.1 %])
  [% IF opts.hzoom -%]
  EndLevel=[% opts.hzoom %]
  [% END -%]
  [% opts.delete( 'lzoom', 'hzoom', 'coords' ) -%]
  [% FOREACH key IN opts.keys -%]
  [% key %]=[% opts.$key %]
  [% END -%]
  [END]
  [% %]
